# سند فاز سوم بازی برمودیا

## هدف کلی فاز

در این فاز به دنبال پیاده‌سازی منطق ارزش دارایی‌های مختلف در بازی هستیم.

## فیچرهای فاز سوم

### لنگراندازی

هر گاه کاربر بخواهد وارد یک جزیره شود، باید در آن لنگراندزی کند. لنگر انداختن هزینه‌ی ثابت `anchoring_cost` را دارد. برداشتن لنگر هزینه‌ای ندارد و خود به خود با سفر به جزیره‌ی بعدی اتفاق می‌افتد.

### سفر بین قلمرو ها

* هر قلمرویی یک جزیره‌ی شاه‌راه دارد که در یکی از گوشه‌های قلمرو قرار دارد. این جزیره محتوایی ندارد و قابل لنگراندازی نیست. از این جزیره می‌توان به شاه‌راه دیگر قلمروها سفر کرد.

* آخرین قلمرو: آخرین قلمروی بکری که کاربر به آن وارد شده است. برای مثال اگر کاربر به ترتیب در این قلمرو ها بوده باشد: ۱-۲-۱ آخرین قلمرو کاربر ۲ است.

* کاربر تنها زمانی حق دارد به قلمروی بکر دیگری برود، که در آخرین قلمرو خود حداقل `minimum_acceptable_knowledge` را کسب کرده باشد. در غیر این صورت، باید مقدار ثابت `emigration_cost` را بپردازد.

### سکه

سکه یکی از دارایی‌های بازیکن است.

#### راه‌های کسب سکه

* بازی‌ها: در جزیره های غیرآموزش، دانش‌آموز با حل سوال جزیره سکه کسب می‌کند.
* کلک‌خانه و قمارخانه که در فازهای بعدی اضافه خواهند شد.

#### راه‌های خرج سکه

* خرید سوخت
* لنگراندازی
* خرج مهاجرت

### بازار مبادلات

هر کاربر می‌تواند در بازار مبادلات پیشنهاد مبادله قرار دهد تا دیگران پیشنهاد وی را قبول کنند، یا پیشنهاد دیگران را ببیند و هر کدام را که خواست قبول کند. هر پیشنهاد دو بخش دارد:

offeredTradablesظ: آنچه پیشنهاددهنده می‌دهد.
requestedTradables: آنچه پیشنهاددهنده می‌گیرد.

پیشنهادها به سه روش از بازار حذف می‌شوند:

۱. کاربری جز پیشنهاددهنده، پیشنهاد وی را قبول کند (بدیهیست کاربر دوم تنها زمانی می‌تواند پیشنهاد را قبول کند که requestedItems را داشته باشد.)

۲. پیشنهاددهنده پیشنهاد خود را از بازار حذف کند.

* هر گاه پیشنهاد دهنده پیشنهادی ثبت کند، به اندازه‌ی offeredItems از آیتم‌های خودش کم می‌شود و در گروی بازار قرار می‌گیرد. بدیهیست اگر پیشنهاددهنده پیشنهادش را حذف کند، offeredItems به وی باز می‌گردد.

* Tradables: Coin, Keys

### کلید

### گنچ
